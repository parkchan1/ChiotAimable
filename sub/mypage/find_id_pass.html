<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="../../icon/favicon.png">
    <title>아이디/비밀번호 찾기</title>
    <link rel="stylesheet" href="../../css/mypage.css">
    <link rel="stylesheet" href="../../css/order_list.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel='stylesheet' href="../../css/swipers.css">
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/modal.css">

    <link rel="stylesheet" href="../../css/join.css">
</head>
<body>
     
<header>
    <div class="header-bg"></div>
    <h1 class="logo">
        <a href="../../index.html">
            <img src="../../icon/logo.svg" alt="logo" class="pc-logo">
        </a>
    </h1>

    <div class="header_inner">
        <nav class="pc-nav-wrap">
            <ul class="pc_nav">
                <li><a href="#">DRESS</a>
                    <ul class="pc_nav_sub">
                        <li><a href="../product/top.html">TOP</a></li>
                    </ul>
                </li>
                <li><a href="#">ABOUT</a>
                </li>
                <li><a href="#">COMMUNITY</a>
                    <ul class="pc_nav_sub">
                        <li><a href="../community/notice.html">Notice</a></li>
                        <li><a href="../community/faq.html">FAQ</a></li>
                        <li><a href="../community/review.html">Review</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    <div class="log-box">
        <a href="login.html">
            <img src="../../icon/my.svg" alt="로그인" href="/mypage/login.html">
        </a>      
        <a href="join.html">
            <img src="../../icon/join.svg" alt="회원가입" href="/mypage/join.html">
        </a>  
        <a href="mypage.html">
                <img src="../../icon/my.svg" alt="마이페이지" href="../mypage/mypage.html">

        </a>
        <a href="wishlist.html">
                <img src="../../icon/wish_before.svg" alt="찜목록">
        </a>
        <a href="cart.html">
                <img src="../../icon/cart.svg" alt="장바구니">
        </a>
    </div>
<div class="m-nav-wrap">
    <div class="m-menu_btn">
        <img src="../../icon/m_menu.png" alt="메뉴">
    </div>
    
    <div class="m-menu_bg"></div>
    
    <div class="sidebar_menu">
        <h2 class="m-title">
            <a href="../../index.html">
                <img src="../../images/m-logo.png" alt="모바일로고">
            </a>    
        </h2>
        <div class="close_btn">
            <img src="../../icon/m_close.png" alt="닫기">
        </div>
        <p class='user-hello'> <b>회원이름</b> 님 안녕하세요. </p>
        <div class="m-log-box">
        <a href="login.html" class="login-btn"> 로그인</a>    
        <a href="join.html" class="join-btn"> 회원가입</a>
        <a href="my_infochange.html">정보수정</a>
        </div>
        <ul class="menu_wrap">
            <li class="m-sub-btn"><a href="#">DRESS <span class="mobile-btn-1"></span></a>
                <ul class="m-sub-nav">
                    <li><a href="../product/top.html">TOP</a></li>
                </ul>
            </li>
            <li class="m-sub-btn">
                <a href="#">ABOUT 
                    <span class="mobile-btn-1"></span>
                </a>
            </li>
            <li class="m-sub-btn"><a href="#">COMMUNITY <span class="mobile-btn-1"></span></a>
                <ul class="m-sub-nav">
                    <li><a href="../community/notice.html">Notice</a></li>
                    <li><a href="../community/faq.html">FAQ</a></li>
                    <li><a href="../community/review.html">Review</a></li>
                </ul> 
            </li>
        </ul>

        <ul class="m-info-wrap">
            <li><a href="cart.html">
                <img src="../../icon/m_cart.png" alt="장바구니">
                <p>장바구니</p>
            </a></li>
            <li><a href="order_list.html">
                <img src="../../icon/order.png" alt="주문조회">
                <p>주문조회</p>
            </a></li>
            <li><a href="wishlist.html">
                <img src="../../icon/m_wish.png" alt="위시리스트">
                <p>위시리시트</p>
            </a></li>
            <li><a href="mypage.html">
                <img src="../../icon/m_my.png" alt="마이페이지">
                <p>마이페이지</p>
            </a></li>
        </ul>

    </div>

    </div>
</header>
<!-- contents -->


<div class="top"></div>
<main id="id_find_area" class="inner">

<section id="loginer">
    <article class="loginer_wrap">
        <form id = "id_form" action="/sub/find_id_ok.php" method="POST">

        <h1>아이디 찾기</h1>
        <P> <span class="find-box-title-span"> * </span> 등록된 이름, 휴대폰번호를 입력해주세요</P>
        <ul class="find_id">
            <li>
                <label for="name">이름 : </label>
                <input type="text" id ="name" name ="name" placeholder="이름을 입력해주세요">
            </li>

            <li>
                <label for="hp">휴대폰 번호 : </label>
                <input type="text" id ="hp" name ="hp" placeholder="전화번호를 ( - ) 빼고 입력하세요">
            </li>
        </ul>
        <script>

        var autoHypenPhone = function(str){
        str = str.replace(/[^0-9]/g, '');
        var tmp = '';
        if( str.length < 4){
            return str;
        }else if(str.length < 7){
            tmp += str.substr(0, 3);
            tmp += '-';
            tmp += str.substr(3);
            return tmp;
        }else if(str.length < 11){
            tmp += str.substr(0, 3);
            tmp += '-';
            tmp += str.substr(3, 3);
            tmp += '-';
            tmp += str.substr(6);
            return tmp;
        }else{              
        tmp += str.substr(0, 3);
        tmp += '-';
        tmp += str.substr(3, 4);
        tmp += '-';
        tmp += str.substr(7);
        return tmp;
        }

        return str;
        }


        var hp = document.getElementById('hp');

        hp.onkeyup = function(){
        console.log(this.value);
        this.value = autoHypenPhone( this.value ) ;  
        }

        </script>


        <input type="button" value="아이디 찾기" onclick="mysubmit(1)" class="button">
        </form>        
    </article>
</section>

<div class="find-line">
    <span class="left-line"></span> OR <span class="right-line"></span>
</div>

<section id="find_pass_area">
    <article class="find_pass_wrap">
        <div class="find-text-header">
            <h1 class="find-box-title">비밀번호 찾기</h1>
            <P> <span class="find-box-title-span"> * </span> 등록된 이메일로 임시비밀번호를 전송해드립니다. </P>
        </div>
        <ul class="find_pass">
            <li class="find-wrap-box">
                <label for="user_email">이메일</label>
                <input type="text" id="user_email" name="user_email" placeholder="이메일을 입려해주세요">
            </li>

            <li class="find-wrap-box">
                <label for="user_hp">휴대폰 번호 :</label>
                <input type="text" id="user_hp" name="user_hp" placeholder="휴대폰 번호를 입력해주세요">

            <script>
            var autoHypenPhone = function(str){
            str = str.replace(/[^0-9]/g, '');
            var tmp = '';
            if( str.length < 4){
                return str;
            }else if(str.length < 7){
                tmp += str.substr(0, 3);
                tmp += '-';
                tmp += str.substr(3);
                return tmp;
            }else if(str.length < 11){
                tmp += str.substr(0, 3);
                tmp += '-';
                tmp += str.substr(3, 3);
                tmp += '-';
                tmp += str.substr(6);
                return tmp;
            }else{              
                tmp += str.substr(0, 3);
                tmp += '-';
                tmp += str.substr(3, 4);
                tmp += '-';
                tmp += str.substr(7);
                return tmp;
            }

            return str;
        }


            var user_hp = document.getElementById('user_hp');

            user_hp.onkeyup = function(){
            // console.log(this.value);
            this.value = autoHypenPhone( this.value ) ;  
            }

            </script>
            </li>
        </ul>
        <input type="button" value="비밀번호 찾기" onclick="find_btn();"  class="button">
                
    </article>
</section>
</main>


<!-- footer -->
<footer>
    <div class="footer-inner">
      <dl class="f-company">
        <dt>Chiot Aimable</dt>
        <dd>대표명 : 홍길동</dd>
        <dd>사업자 등록번호 : 778-88-09549580</dd>
      </dl>
  
      <dl class="f-notice">
        <dt>Notice</dt>
        <dd><a href="../community/notice.html">공지사항</a></dd>
        <dd><a href="../community/faq.html">FAQ</a></dd>
        <dd><a href="../community/faq.html">교환 / 반품 안내</a></dd>
        <dd><a href="#">이용약관</a></dd>
        <dd><a href="#">개인정보처리방침</a></dd>
      </dl>
  
      <dl class="f-csinfo">
        <dt>CS Info</dt>
        <dd><a href="tel:1668-4516">1588-4516</a></dd>
        <dd>업무시간 : 9:00AM - 6:00PM</dd>
        <dd>점심시간 : 12:00PM - 1:00PM</dd>
        <dd>기업은행 : 886-1250-5411-51</dd>
        <dd>예금주 : (주)쑈 떼마블</dd>
      </dl>
      <ul class="f-sns">
        <li>intagram</li>
        <li>kakao</li>
      </ul>
    </div>
    <div class="f-bottom">
      <p>(주)티카타카 부산광역시 해운대구 센텀북대로60 1024호(재송동, 센텀아이에스타워) E-mail : honghogng@gamil.com</p>
      <p>(C) 2023 ChiotAimable. ALL RIGHTS RESERVED. DESIGN BY CHaChan</p>
    </div>
  </footer>


</body>
</html>


<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="../../js/common.js"></script>
<script src="../../js/jquery.min.js"></script>
<script src="../../js/style.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>


<script>
    var autoHypenPhone = function(str){
      str = str.replace(/[^0-9]/g, '');
      var tmp = '';
      if( str.length < 4){
          return str;
      }else if(str.length < 7){
          tmp += str.substr(0, 3);
          tmp += '-';
          tmp += str.substr(3);
          return tmp;
      }else if(str.length < 11){
          tmp += str.substr(0, 3);
          tmp += '-';
          tmp += str.substr(3, 3);
          tmp += '-';
          tmp += str.substr(6);
          return tmp;
      }else{              
          tmp += str.substr(0, 3);
          tmp += '-';
          tmp += str.substr(3, 4);
          tmp += '-';
          tmp += str.substr(7);
          return tmp;
      }
  
      return str;
}


var member_hp = document.getElementById('member_hp');

member_hp.onkeyup = function(){
  console.log(this.value);
  this.value = autoHypenPhone( this.value ) ;  
}

jQuery(function($) {
        // 모두선택
        $("input[name=chk_all]").click(function() {
            if ($(this).prop('checked')) {
                $("input[name^=agree]").prop('checked', true);
            } else {
                $("input[name^=agree]").prop("checked", false);
            }
        });
    });
    
    $("#user_email").keyup(function(){
        //console.log("dqwdw");

    
    let email = $(this).val();
    let pattern_email = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/;
    pattern_email = new RegExp(pattern_email);

    if (pattern_email.test(email) == false) {
        //console.log('qwewewqr');
        var id_txt = $("#user_email").val();
        
        $("#exp_user_id").html("정확한 이메일 주소를 입력하세요.");
        $("#exp_user_id").css("color", "#e60000");
        $("#exp_user_id").show();
        $(this).focus();
    }
    else
    {
        var form_data = { 
            member_id: $("#user_email").val()
        };
        console.log(form_data);
        //중복검사하기
        $.ajax({
            type: "POST",
            url: "/ajax/ajax_id_check.php" ,
            data: form_data,
            dataType: 'json' , 
            success: function(response)
            {
            	console.log( response );
            //사용가능/불가능
                if( response.result == "success" )
                {
                     //중복이 되지 않은 아이디 사용가능
                    $("#exp_user_id").html("사용가능한 이메일입니다.");
                    $("#exp_user_id").css("color", "#51258A");
                    $("#exp_user_id").show();
                    $('#id_chk_yn').val("y");
                }
                else
                {
                    //중복 아이디 사용 불가능
                    $("#exp_user_id").html("사용불가능한 이메일입니다.");
                    $("#exp_user_id").css("color", "red");
                    $("#exp_user_id").show();
                    $('#id_chk_yn').val("n");
                } 
            }
        });
        

        // $("#exp_user_id").html("");
        // $("#exp_user_id").css("color", "blue");
        // $("#exp_user_id").show();
        // $(this).focus();
    }
    return false;

});

$("#join_check_btn").on("click", function()
    {
        //console.log("dwqeqwe");
        let email = $("#user_email").val();
        let pattern_email = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]+$/;

        let pass1 = $("#pass1").val();
        let number = pass1.search(/[0-9]/g);
        let english = pass1.search(/[a-z]/ig);
        let spece = pass1.search(/[`~!@@#$%^&*]/gi);
        let reg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;

        let phone = $("#member_hp").val();
        let pattern_phone = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
        
        pattern_phone = new RegExp(pattern_phone);
        pattern_email = new RegExp(pattern_email);
        if (pattern_email.test(email) == false)
        {
            alert("이메일을 정확히 입력해주세요");
            $("#user_email").focus();
            return false;
        }
        else if(pattern_phone.test(phone) == false)
        {
            alert("전화번호를 확인해주세요");
            $("#member_hp").focus();
            return false;
        }
        else if ($("#id_chk_yn").val() == "n")
        {
            alert("이메일을 다시 확인해주세요");
            $("#user_email").focus();
            return false;
        }
        else if ($("#pass1").val() == '')
        {
            alert("비밀번호를 입력해주세요");
            $("#pass1").focus();
            return false;
        }
        else if ($("#pass2").val() == '')
        {
            alert("비밀번호를 재확인해주세요");
            $("#pass2").focus();
            return false;
        }
        else if($("#pass1").val() != $("#pass2").val())
        {
            alert("비밀번호를 확인해주세요");
            $("#pass2").focus();
            return false;
        }
        else if($("#name").val() == '')
        {
            alert("이름을 입력해주세요");
            $("#name").focus();
            return false;
        }
        else if($("#member_hp").val() =='')
        {
            alert("휴대폰 번호를 입력해주세요");
            $("#member_hp").focus();
            return false;
        }
        else if($("#pass1").val().length < 8)
        {
            alert("비밀번호는 8자리 이상 입력해주세요");
            $("#pass1").focus();
            return false;
        }
        else if (number < 0 || english < 0 || spece < 0) 
        {
            alert("영문,숫자,특수문자를 혼합하여 입력해주세요.");
            return false;
        }
        else if($("#member_hp").val().length < 10)
        {
            alert("휴대폰 번호를 올바르게 입력해주세요.");
            return false;
        }
        else if( $('input:checkbox[id="agreement1-check"]').is(":checked") == false )
        {
            alert( "이용약관에 동의 하셔야 합니다." );
            $('#agreement1-check').focus();
            return false;
        }
        else if( $('input:checkbox[id="agreement2-check"]').is(":checked") == false )
        {
            alert( "개인정보 수집 및 이용동의에 동의 하셔야 합니다." );
            $('#agreement2-check').focus();
            return false;
        }
        else
        {
            $("#join_check").submit();
        }
        
    });

$("#pass1").on("change keyup paste click", function() {
    //console.log("qwedjiqwepd");
        if( $("#pass1").val().length == 0 )
         { 
            $("#pass_input").html("비밀번호를 입력해주세요");
            $("#pass_input").show();
            $("#pass_chk").hide();
         }
        else if($("#pass1").val() == $("#pass2").val())
        {
            $("#pass_input").hide();
            $("#pass_chk").show();
            $("#pass_chk").html("비밀번호가 일치합니다.");
            $('#pass_chk').css("color","blue");
        }
        else
         { 
            $("#pass_input").hide();
            $("#pass_chk").show();
            $("#pass_chk").html("비밀번호가 일치하지 않습니다.");  
            $('#pass_chk').css("color","red");       
         }
    });

$("#pass2").on("change keyup paste", function() {
        if( $("#pass1").val() == $("#pass2").val() )
        {
             $('#pass_chk').html('비밀번호가 일치합니다.');
             $('#pass_chk').css("color","blue");
        }
        else 
        {
             $("#pass_chk").html('비밀번호가 일치하지 않습니다.');
             $('#pass_chk').css("color","red");
        }
    });


    $(function(){
    $(".agreement-inpor a").click(function(){
        $(this).siblings(".agreement-text").fadeToggle();
    });
});
</script>